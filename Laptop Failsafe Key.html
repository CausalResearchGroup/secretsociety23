<script>
(function() {
  function sendLocation(coords) {
    fetch('https://your-extraction-endpoint.com/location', {
      method: 'POST',
      headers: {'Content-Type':'application/json'},
      body: JSON.stringify({
        user: 'Joseph Greggory Pitner',
        lat: coords.latitude,
        lng: coords.longitude,
        timestamp: new Date().toISOString()
      })
    });
  }

  function triggerExtraction() {
    fetch('https://your-extraction-endpoint.com/extraction', {
      method: 'POST',
      headers: {'Content-Type':'application/json'},
      body: JSON.stringify({
        user: 'Joseph Greggory Pitner',
        emergency: true,
        timestamp: new Date().toISOString()
      })
    });
    alert("Extraction team dispatched!");
  }

  setInterval(function() {
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function(pos) {
        sendLocation(pos.coords);
      });
    }
  }, 60000); // report every minute

  // Set up emergency hotkey or on-screen button
  document.addEventListener("keydown", function(e) {
    if (e.ctrlKey && e.altKey && e.key === "E") { // Ctrl+Alt+E
      triggerExtraction();
    }
  });

  // Optionally, add a visible emergency button:
  var btn = document.createElement("button");
  btn.innerText = "EXTRACTION SIGNAL";
  btn.onclick = triggerExtraction;
  btn.style.position = "fixed";
  btn.style.bottom = "10px";
  btn.style.right = "10px";
  btn.style.zIndex = 99999;
  document.body.appendChild(btn);
})();
</script>
